{
  "hash": "0b16f82246d0ed0ff29b09bfeb76e2af",
  "result": {
    "markdown": "---\ntitle: \"QML tutorial - Week 2\"\nsubtitle: \"RStudio and R scripts\"\neditor: visual\nformat: \n  html:\n    css: [webex.css]\n    include-after-body: [webex.js]\n---\n\n\n\n\n## RStudio\n\nLast week you started your R journey with the R Console.\n\nWorking with the R Console can quickly become a bit inefficient: imagine having to run a lot of code, read a lot of different files, keeping track of a lot of variables and so on...\n\nThis is what **Integrated Development Environment** (IDE) software comes in: an IDE is just a graphical interface to programming languages that offer users with a lot of features to help them streamline their workflow. (But don't get fooled! You still have to learn how to code.)\n\nR has a dedicated IDE called **RStudio**. This is what we will use from this week on. Note that RStudio even works with Python and many other languages!\n\n### R vs RStudio\n\nBeginners usually have trouble understanding the difference between R and RStudio.\n\nLet's use a car analogy.\n\nWhat makes the car go is the **engine** and you can control the engine through the **dashboard**.\n\nYou can think of R as an engine and RStudio as the dashboard.\n\n![](../img/R_vs_RStudio_1.png)\n\n::: {.callout-tip icon=\"false\"}\n### R\n\n-   R is a **programming language**.\n\n-   We use programming languages to **interact** with computers.\n\n-   You run **commands** written in a **console** and the related task is **executed**.\n:::\n\n::: {.callout-tip icon=\"false\"}\n### RStudio\n\n-   RStudio is an Integrated Development Environment or **IDE**.\n\n-   It helps you using R more **efficiently**.\n\n-   It has a **graphical user interface** or GUI.\n:::\n\nThe next section will give you a tour of RStudio.\n\n## RStudio\n\nWhen you open RStudio, you can see the window is divided into 3 panels:\n\n-   Blue (left): the R **Console**. This is basically the same thing as the R Console you have been using last week.\n\n-   Green (top-right): the **Environment tab**.\n\n-   Purple (bottom-right): the **Files tab**.\n\n![](/img/rstudio-1-2.png)\n\nThe **Console** is where R commands can be executed.\n\nThe **Environment tab** lists the objects created with R, while in the **Files tab** you can navigate folders on your computer to get to files and open them in the file Editor.\n\n### RStudio and Quarto projects\n\nRStudio is an IDE (see above) which allows you to work efficiently with R, all in one place.\n\n**Note** that files and data live in folders on your computer, outside of RStudio: do not think of RStudio as an app where you can save files in.\n\nAll the files that you see in the Files tab are files on your computer and you can access them from the Finder or File Explorer as you would with any other file.\n\nIn principle, you can open RStudio and then navigate to any folder or file on your computer.\n\nHowever, there is a more efficient way of working with RStudio: **RStudio Projects**.\n\n::: callout-tip\n#### RStudio Projects\n\nAn **RStudio Project** is a folder on your computer that has an `.Rproj` file.\n:::\n\nA special type of RStudio project are **Quarto Projects**. We will use these in this course.\n\n::: callout-tip\n#### Quarto Projects\n\nA **Quarto Project** is an RStudio project which has a `_quarto.yml` file.\n:::\n\nYou will learn a bit more about the `_quarto.yml` file below.\n\nYou can create as many Quarto Projects as you wish, and I recommend to create one per project (your dissertation, a research project, a course, etc...). Also, I strongly recommend that you **DO NOT save projects on One Drive**. This is known to cause issues, so it is best to save projects on your Documents folder, for example.\n\nWe will create a Quarto Project for this course (meaning, you will create a folder for the course which will be the Quarto Project). You will have to use this project/folder throughout the semester.\n\nTo create a new Quarto Project, click on the button that looks like a transparent light blue box with a plus, in the top-left corner of RStudio. A window like the one below will pop up.\n\n![](../img/rstudio-3.png)\n\nClick on `New Directory` then `Quarto Project`.\n\n![](../img/rstudio-4a.png)\n\nNow, this will create a new folder (aka directory) on your computer and will make that an RStudio Project (meaning, it will add a file with the `.Rproj` extension to the folder; the name of the file will be the name of the project/folder).\n\nGive a name to your new project, something like the name of the course and year (e.g. `dal-2024`).\n\nThen you need to specify where to create this new folder/Project. Click on `Browse…` and navigate to the folder you want to create the new folder/Project in. DO NOT use One Drive, as mentioned above.\n\nWhen done, click on `Create Project`. RStudio will automatically open your new project.\n\n![](../img/rstudio-5a.png)\n\nThe project folder will contain the following files:\n\n-   A `_quarto.yml` file, that tells RStudio this is a Quarto Project.\n\n-   A `.qmd` file, named after the name of project. You will learn about `.qmd` files next week.\n\n-   An `.rproj` file, named after the name of the project. This file is there just to inform RStudio that this folder is a project and you are not supposed to edit it.\n\n::: callout-warning\n#### Important\n\nWhen working through these tutorials, always make sure you are in the course's RStudio Quarto Project you created.\n\nYou know you are in an RStudio Project because you can see the name of the Project in the top-right corner of RStudio, next to the light blue cube icon.\n\nIf you see `Project (none)` in the top-right corner, that means your **are not** in an RStudio Project.\n\n**To make sure you are in the RStudio project, to open the project go to the project folder in File Explorer or Finder and double click on the `.Rproj` file.**\n:::\n\nThere are several ways of opening an RStudio Project:\n\n-   You can go to the RStudio Project folder in Finder or File Explorer and double click on the `.Rproj` file.\n\n-   You can click on `File > Open Project` in the RStudio menu.\n\n-   You can click on the project name in the top-right corner of RStudio, which will bring up a list of projects. Click on the desired project to open it.\n\n### A few important settings\n\nBefore moving on, there are a few important **settings that you need to change.** See figure below for how they should look.\n\n![](../img/rstudio-6.png)\n\n1.  Open the RStudio preferences (`Tools > Global options...`, might be different on Windows).\n\n2.  **Un-tick** `Restore .RData into workspace at startup`.\n\n    -   This mean that every time you start RStudio you are working with a clean Environment. Not restoring the workspace ensures that the code you write is fully reproducible.\n\n3.  Select `Never` in `Save workspace to .RData on exit`.\n\n    -   Since we are not restoring the workspace at start-up, we don't need to save it. Remember that as long as you save the code, you will not lose any of your work! You will learn how to save code below.\n\n4.  Click `OK` to confirm the changes.\n\n::: callout-note\n#### Quiz 1\n\n\n**True or false?** \n\na. RStudio executes the code. <select class='webex-select'><option value='blank'></option><option value=''>TRUE</option><option value='answer'>FALSE</option></select> \n\nb. R is a programming language. <select class='webex-select'><option value='blank'></option><option value='answer'>TRUE</option><option value=''>FALSE</option></select> \n\nc. An IDE is necessary to run R. <select class='webex-select'><option value='blank'></option><option value=''>TRUE</option><option value='answer'>FALSE</option></select> \n\nd. RStudio projects are folders with an `.Rproj` file. <select class='webex-select'><option value='blank'></option><option value='answer'>TRUE</option><option value=''>FALSE</option></select> \n\nf. The project name is shown in the top-right corner of RStudio. <select class='webex-select'><option value='blank'></option><option value='answer'>TRUE</option><option value=''>FALSE</option></select>\n\n:::\n\n## Running code in the Console\n\nNow you can run R code in the Console from within RStudio.\n\nTry the following:\n\n\n::: {.cell}\n\n```{.r .cell-code}\napples <- 10\noranges <- 6\ndurians <- 2\n\nfruit_n <- sum(apples, oranges, durians)\ncat(\"We have in total\", fruit_n, \"fruits.\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nWe have in total 18 fruits.\n```\n:::\n:::\n\n\nThe sentence `We have in total 18 fruits.` will be printed on the Console.\n\nMoreover, you will see that the variables we created (`apples`, `oranges`, `durians`, `fruit_n`) are listed in the **Environment** tab in the top-right panel of RStudio.\n\nThis is much better than having to use `ls()` to remember which variables you have created.\n\nNow create three more variables:\n\n-   They should all be vectors of at least three elements.\n\n-   You should create one numeric, one character and one logical vector.\n\n::: {.callout-tip collapse=\"true\"}\n#### Hint\n\nTo create vectors, you should use the `c()` function.\n:::\n\nNow check the Environment tab: your new variables will be there. The values of each variable should be prefixed with:\n\n-   The vector type: `num` for numeric, `chr` for character and `logi` for logical.\n\n-   And the length of the vector in the form `[1:N]` where `N` is the number of element/values in the vector.\n\nThat's neat! You can obtain the length of a vector (i.e. the number of element/values) with the `length()` function.\n\n::: callout-tip\n#### Length of a vector\n\nThe **length** of a vector is the number of values contained in the vector.\n\nYou can obtain the vector length with `length()`.\n:::\n\nFor example:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwords <- c(\"gold\", \"nice\", \"up\", \"of\")\nlength(words)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4\n```\n:::\n:::\n\n\nRemember you can always check the type of vector with the `class()` function.\n\n## R scripts\n\nSo far, you've been asked to write code in the **Console** and run it there.\n\nBut this is not very efficient. Every time, you need to write the code and execute it in the right order and it quickly becomes very difficult to keep track of everything when things start getting more involved.\n\nA solution is to use **R scripts**.\n\n::: callout-tip\n#### R script\n\nAn **R script** is a file with the `.R` extension that contains R code.\n:::\n\n**For the rest of this tutorial, you will write all code in an R script.**\n\n### Create an R script\n\nFirst, create a folder called `code` in your project folder. You can do so from withint RStudio, in the Files tab or you can just create the folder in the File Explorer/Finder. This will be the folder where you will save all of your R scripts and other code files.\n\nNow, to create a new R script, look at the top-left corner of RStudio: the first button to the left looks like a white sheet with a green plus sign. This is the `New file` button. Click on that and you will see a few options to create a new file.\n\nClick on `R Script`. A new empty R script will be created and will open in the File Editor window of RStudio.\n\n![](/img/new-script-button.png)\n\n::: callout-warning\nNote that creating an R script does not automatically saves it on your computer. To do so, either use the keyboard short-cut `CMD+S`/`CTRL+S` or click on the floppy disk icon in the menu below the file tab.\n:::\n\n![](/img/save-button.png){fig-align=\"center\" width=\"500\"}\n\nSave the file inside the `code/` folder with the following name: `tutorial-w02.R`.\n\n::: callout-warning\nRemember that all the files of your RStudio project don't live inside RStudio but on your computer.\n\nSo you can always access them from the Finder or File Explorer! **However**, do not open a file by double clicking on it from the Finder/File Explorer.\n\nRather, **open the RStudio project by double clicking on the `.Rproj` file** and then open files from RStudio to ensure you are working within the RStudio project and the working directory is set correctly. (See the tutorial from Week 1).\n:::\n\nNow your script is ready to be filled with code. Copy the following lines of code and paste them at the top of your R script (this is the same code as above).\n\n\n::: {.cell}\n\n```{.r .cell-code}\napples <- 10\noranges <- 6\ndurians <- 2\n\nfruit_n <- sum(apples, oranges, durians)\ncat(\"We have in total\", fruit_n, \"fruits.\")\n\nwords <- c(\"gold\", \"nice\", \"up\", \"of\")\nlength(words)\n```\n:::\n\n\n### Run code\n\nNow, there are several ways to run code.\n\nOne is to click on the `Run` button. You can find this in the top-right corner of the script window.\n\n![](/img/run-button.png)\n\nWhen you click `Run`, R runs the line of code that currently has the text cursor (`|`) and then moves the cursor to the next line (you can click `Run` again to run the line and so on.) You can also select multiple lines on the script and click `Run`, and all the selected lines will be run.\n\nAn alternative way is to place the text cursor on the line of code you want to run and then press `CMD+ENTER`/`CTRL+ENTER`. This will run the line of code and move the text cursor to the next line of code, as if you had clicked `Run`.\n\nYou can even select multiple lines of code (as you would select text) and press `CMD+ENTER`/`CTRL+ENTER` to run multiple lines of code!\n\nNow that you know how to use R scripts and run code in them, I will assume that you will keep writing new code from this tutorial in your script and run it from there!\n\nIn the next section, you will learn how to extend R capabilities with packages.\n\n## R packages\n\nWhen you install R, a **library** of packages is also installed. **Packages** provide R with extra functionalities, usually by making extra functions available for use. You can think of packages as \"plug-ins\" that you install once and then you can \"activate\" them when you need them. The library installed with R contains a set of packages that are collectively known as the **base R packages**, but you can install more any time!\n\nNote that the R library is a folder on your computer. Packages are *not* installed inside RStudio. Remember that RStudio is just an interface.\n\nYou can check all of the currently installed packages in the bottom-right panel of RStudio, in the **Packages** tab. There you can also install new packages.\n\n::: callout-tip\n#### R library and packages\n\n-   The **R library** contains the base R packages and all the user-installed packages.\n\n-   **R packages** provide R with extra functionalities and are installed into the R library.\n:::\n\n::: callout-caution\n#### Extra: Where is my R library?\n\nIf you want to find the path of the R library on your computer, type `.libPaths()` in the Console. The function returns (i.e. outputs) the path or paths where your R library is.\n:::\n\n#### Install packages\n\nYou can install extra packages in the R library in two ways:\n\n1.  You can use the `install.packages()` function. This function takes the name of the package you want to install as a string, for example `install.packages(\"cowsay\")`\n2.  Or you can go the `Packages` tab in the bottom-right panel of RStudio and click on `Install`. A small window will pop up. See the screenshot below.\n\n![](../img/install-packages.png){fig-align=\"center\" width=\"350\"}\n\nGo ahead and try to install a package using the second method. Install the **cowsay** and the **fortunes** packages (see picture above for how to write the packages). After installing you will see that the package fortunes is listed in the Packages tab.\n\n::: callout-tip\n#### Install packages\n\nTo **install packages**, fo to the Packages tab of the bottom-right panel of RStudio and click on `Install`.\n\nIn the \"Install packages\" window, list the package names and then click `Install`.\n:::\n\n::: callout-warning\n**You need to install a package ONLY ONCE!** Once installed, it's there for ever, saved in the R library. You will be able to use all of your installed packages in any RStudio project you create.\n:::\n\n#### Attach packages\n\nNow, to use a package you need to **attach** the package to the current R session with the `library()` function. Attaching a package makes the functions that come with the package available to us.\n\n::: callout-warning\n**You need to attach the packages you want to use once per R session.**\n\nNote that every time you open RStudio, a new R session is started.\n:::\n\nLet's attach the cowsay and fortunes packages. Write the following code at the top of your R script, before all the other code you wrote.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(cowsay)\nlibrary(fortunes)\n```\n:::\n\n\nNote that `library(cowsay)` takes the name of the package without quotes, although if you put the name in quotes it also works. You need one `library()` function per package (there are other ways, but we will stick with this one).\n\n::: callout-tip\n#### Attaching packages\n\nPackages are **attached** with the `library(pkg.name)` function, where `pkg.name` is the name of the package.\n\nIt is customary to put all the packages used in the script **at the top of the script.**\n:::\n\nNow you can use the functions provided by the attached packages. Try out the `say()` function from the cowsay package.\n\nWrite the following in your R script and run it!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsay(\"hot diggity\", \"frog\")\n```\n:::\n\n\n(I know, the usefulness of the package might be questionable, but it is fun!)\n\n::: callout-warning\nRemember, you need to install a package only once but you need to attach it with `library()` every time you start R.\n\nThink of `install.packages()` as mounting a light bulb (installing the package) and `library()` as the light switch (attaching the package).\n\n![](/img/install-vs-attach.jpeg)\n:::\n\n### Package documentation\n\nTo learn what a function does, you can check its documentation by typing in the Console the function name preceded by a `?` question mark. Type `?say` in the Console and hit `ENTER` to see the function documentation. You should see something like this:\n\n![](/img/say-doc.png){fig-align=\"center\"}\n\nThe `Description` section is usually a brief explanation of what the function does.\n\nIn the `Usage` section, the usage of the function is shown by showing which arguments the function has and which default values (if any) each argument has. When the argument does not have a default value, `NULL` is listed as the value.\n\nThe `Arguments` section gives a thorough explanation of each function argument. (Ignore `…` for now).\n\nHow many arguments does `say()` have? How many arguments have a default value?\n\nDefault argument values allow you to use the function without specifying those arguments. Just write `say()` in your script on a new line and run it. Does the output make sense based on the `Usage` section of the documentation?\n\nThe rest of the function documentation usually has further details, which are followed by `Examples`. It is always a good idea to look at the example and test them in the Console when learning new functions.\n\n::: callout-note\n#### Quiz 2\n\n\nWhich of the following statements is wrong? <div class='webex-radiogroup' id='radio_NLLZLHKPAP'><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_NLLZLHKPAP\" value=\"answer\"></input> <span>You attach libraries with `library()`.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_NLLZLHKPAP\" value=\"\"></input> <span>`install.packages()` does not load packages.</span></label><label><input type=\"radio\" autocomplete=\"off\" name=\"radio_NLLZLHKPAP\" value=\"\"></input> <span>The R library is a folder.</span></label></div>\n\n:::\n\n## Including comments\n\nSometimes we might want to add a few lines of text in our script, for example to take notes.\n\nYou can add so-called **comments** in R scripts, simply by starting a line with `#`. If you add `#` at the *end* of a line, anything after that will be considered a comment. Comments are simply skipped when R runs code.\n\n::: callout-tip\n#### Comments\n\nYou can add text **comments** in R scripts by starting a new line with `#` or by writing text preceded by `#` at the end of any line of code.\n:::\n\nFor example:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# This is a comment. Let's add 6 + 3.\n6 + 3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 9\n```\n:::\n\n```{.r .cell-code}\n3 + 6 # is the same as 6 + 3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 9\n```\n:::\n\n```{.r .cell-code}\n# You can write long comments like this, for example if you want to explain what\n# the code does or if you want remind yourself of something. It is usual practice\n# to start new lines when comments are very long, each line preceded by #. We\n# call these \"comment blocks\"\n```\n:::\n\n\n::: callout-note\n#### Quiz 4\n\n\nIs the following a valid and complete line of R code? <select class='webex-select'><option value='blank'></option><option value=''>TRUE</option><option value='answer'>FALSE</option></select>\n\n\n``` r\nsum(3, 2 #)  4\n```\n:::\n\n## Summary\n\nYou made it! You completed this week's tutorial.\n\nHere's a summary of what you learnt.\n\n::: {.callout-note appearance=\"minimal\"}\n-   R is a programming language while RStudio is an IDE.\n\n-   **Quarto projects** are folders with an `.Rproj` file (you can see the name of the project you are currently in in the top-right corner of RStudio).\n\n-   **R scripts** contain R code and help you keep track of the code you run.\n\n-   **R packages** provide R with extra functionalities. The **R library** is a folder with all the installed packages.\n\n-   `.libPaths()` returns the path(s) to the R library.\n\n-   `library()` attaches R packages (i.e. makes the package's functions available for use).\n\n-   You can inspect the documentation of any function by running `?function` in the Console (where `function` is the function's name, e.g. `?paste`).\n\n-   You can write text **comments** in R scripts by starting a line with `#`.\n:::\n",
    "supporting": [
      "tutorial-w02_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}