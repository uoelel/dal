<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DAL - DAL tutorial - Week 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../img/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<link rel="stylesheet" href="../styles.css">
<link rel="stylesheet" href="webex.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">DAL</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../content.html"> 
<span class="menu-text">Course content</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../assessments.html"> 
<span class="menu-text">Assessment</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://uoelel.github.io/qm-data/" target="_blank"> 
<span class="menu-text">Data</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#rstudio" id="toc-rstudio" class="nav-link active" data-scroll-target="#rstudio"><span class="header-section-number">1</span> RStudio</a>
  <ul class="collapse">
  <li><a href="#r-vs-rstudio" id="toc-r-vs-rstudio" class="nav-link" data-scroll-target="#r-vs-rstudio"><span class="header-section-number">1.1</span> R vs RStudio</a></li>
  </ul></li>
  <li><a href="#rstudio-2" id="toc-rstudio-2" class="nav-link" data-scroll-target="#rstudio-2"><span class="header-section-number">2</span> RStudio</a>
  <ul class="collapse">
  <li><a href="#rstudio-and-quarto-projects" id="toc-rstudio-and-quarto-projects" class="nav-link" data-scroll-target="#rstudio-and-quarto-projects"><span class="header-section-number">2.1</span> RStudio and Quarto projects</a></li>
  <li><a href="#a-few-important-settings" id="toc-a-few-important-settings" class="nav-link" data-scroll-target="#a-few-important-settings"><span class="header-section-number">2.2</span> A few important settings</a></li>
  </ul></li>
  <li><a href="#running-code-in-the-console" id="toc-running-code-in-the-console" class="nav-link" data-scroll-target="#running-code-in-the-console"><span class="header-section-number">3</span> Running code in the Console</a></li>
  <li><a href="#r-scripts" id="toc-r-scripts" class="nav-link" data-scroll-target="#r-scripts"><span class="header-section-number">4</span> R scripts</a>
  <ul class="collapse">
  <li><a href="#create-an-r-script" id="toc-create-an-r-script" class="nav-link" data-scroll-target="#create-an-r-script"><span class="header-section-number">4.1</span> Create an R script</a></li>
  <li><a href="#run-code" id="toc-run-code" class="nav-link" data-scroll-target="#run-code"><span class="header-section-number">4.2</span> Run code</a></li>
  </ul></li>
  <li><a href="#r-packages" id="toc-r-packages" class="nav-link" data-scroll-target="#r-packages"><span class="header-section-number">5</span> R packages</a>
  <ul class="collapse">
  <li><a href="#package-documentation" id="toc-package-documentation" class="nav-link" data-scroll-target="#package-documentation"><span class="header-section-number">5.1</span> Package documentation</a></li>
  </ul></li>
  <li><a href="#including-comments" id="toc-including-comments" class="nav-link" data-scroll-target="#including-comments"><span class="header-section-number">6</span> Including comments</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">7</span> Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DAL tutorial - Week 2</h1>
<p class="subtitle lead">RStudio and R scripts</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="rstudio" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="rstudio"><span class="header-section-number">1</span> RStudio</h2>
<p>Last week you started your R journey with the R Console.</p>
<p>Working with the R Console can quickly become a bit inefficient: imagine having to run a lot of code, read a lot of different files, keeping track of a lot of variables and so on…</p>
<p>This is what <strong>Integrated Development Environment</strong> (IDE) software comes in: an IDE is just a graphical interface to programming languages that offer users with a lot of features to help them streamline their workflow. (But don’t get fooled! You still have to learn how to code.)</p>
<p>R has a dedicated IDE called <strong>RStudio</strong>. This is what we will use from this week on. Note that RStudio even works with Python and many other languages!</p>
<section id="r-vs-rstudio" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="r-vs-rstudio"><span class="header-section-number">1.1</span> R vs RStudio</h3>
<p>Beginners usually have trouble understanding the difference between R and RStudio.</p>
<p>Let’s use a car analogy.</p>
<p>What makes the car go is the <strong>engine</strong> and you can control the engine through the <strong>dashboard</strong>.</p>
<p>You can think of R as an engine and RStudio as the dashboard.</p>
<p><img src="../img/R_vs_RStudio_1.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
R
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>R is a <strong>programming language</strong>.</p></li>
<li><p>We use programming languages to <strong>interact</strong> with computers.</p></li>
<li><p>You run <strong>commands</strong> written in a <strong>console</strong> and the related task is <strong>executed</strong>.</p></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>RStudio is an Integrated Development Environment or <strong>IDE</strong>.</p></li>
<li><p>It helps you using R more <strong>efficiently</strong>.</p></li>
<li><p>It has a <strong>graphical user interface</strong> or GUI.</p></li>
</ul>
</div>
</div>
<p>The next section will give you a tour of RStudio.</p>
</section>
</section>
<section id="rstudio-2" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="rstudio-2"><span class="header-section-number">2</span> RStudio</h2>
<p>When you open RStudio, you can see the window is divided into 3 panels:</p>
<ul>
<li><p>Blue (left): the R <strong>Console</strong>. This is basically the same thing as the R Console you have been using last week.</p></li>
<li><p>Green (top-right): the <strong>Environment tab</strong>.</p></li>
<li><p>Purple (bottom-right): the <strong>Files tab</strong>.</p></li>
</ul>
<p><img src="../img/rstudio-1-2.png" class="img-fluid"></p>
<p>The <strong>Console</strong> is where R commands can be executed.</p>
<p>The <strong>Environment tab</strong> lists the objects created with R, while in the <strong>Files tab</strong> you can navigate folders on your computer to get to files and open them in the file Editor.</p>
<section id="rstudio-and-quarto-projects" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="rstudio-and-quarto-projects"><span class="header-section-number">2.1</span> RStudio and Quarto projects</h3>
<p>RStudio is an IDE (see above) which allows you to work efficiently with R, all in one place.</p>
<p><strong>Note</strong> that files and data live in folders on your computer, outside of RStudio: do not think of RStudio as an app where you can save files in.</p>
<p>All the files that you see in the Files tab are files on your computer and you can access them from the Finder or File Explorer as you would with any other file.</p>
<p>In principle, you can open RStudio and then navigate to any folder or file on your computer.</p>
<p>However, there is a more efficient way of working with RStudio: <strong>RStudio Projects</strong>.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
RStudio Projects
</div>
</div>
<div class="callout-body-container callout-body">
<p>An <strong>RStudio Project</strong> is a folder on your computer that has an <code>.Rproj</code> file.</p>
</div>
</div>
<p>A special type of RStudio project are <strong>Quarto Projects</strong>. We will use these in this course.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quarto Projects
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <strong>Quarto Project</strong> is an RStudio project which has a <code>_quarto.yml</code> file.</p>
</div>
</div>
<p>You will learn a bit more about the <code>_quarto.yml</code> file below.</p>
<p>You can create as many Quarto Projects as you wish, and I recommend to create one per project (your dissertation, a research project, a course, etc…). Also, I strongly recommend that you <strong>DO NOT save projects on One Drive,</strong> but do back up your files there (or at least somewhere else). This is known to cause issues, so it is best to save projects on your Documents folder, for example.</p>
<p>We will create a Quarto Project for this course (meaning, you will create a folder for the course which will be the Quarto Project). You will have to use this project/folder throughout the semester.</p>
<p>To create a new Quarto Project, click on the button that looks like a transparent light blue box with a plus, in the top-left corner of RStudio. A window like the one below will pop up.</p>
<p><img src="../img/rstudio-3.png" class="img-fluid"></p>
<p>Click on <code>New Directory</code> then <code>Quarto Project</code>.</p>
<p><img src="../img/rstudio-4a.png" class="img-fluid"></p>
<p>Now, this will create a new folder (aka directory) on your computer and will make that an RStudio Project (meaning, it will add a file with the <code>.Rproj</code> extension to the folder; the name of the file will be the name of the project/folder).</p>
<p>Give a name to your new project, something like the name of the course and year (e.g.&nbsp;<code>dal-2024</code>).</p>
<p>Then you need to specify where to create this new folder/Project. Click on <code>Browse…</code> and navigate to the folder you want to create the new folder/Project in. DO NOT use One Drive, as mentioned above.</p>
<p>**Make sure to untick the <code>Use visual markdown editor</code> option and that the engine is set to <code>knitr</code>.** The settings should be exactly as shown below.</p>
<p><img src="../img/rstudio-5a.png" class="img-fluid"></p>
<p>When done, click on <code>Create Project</code>. RStudio will automatically open your new project. A <code>.qmd</code> file will be opened automatically: you can safely close that for now.</p>
<p>The project folder will contain the following files:</p>
<ul>
<li><p>A <code>_quarto.yml</code> file, that tells RStudio this is a Quarto Project.</p></li>
<li><p>A <code>.qmd</code> file, named after the name of project. You will learn about <code>.qmd</code> files next week. You can close this file if it is still open in the File panel.</p></li>
<li><p>An <code>.rproj</code> file, named after the name of the project. This file is there just to inform RStudio that this folder is a project and you are not supposed to edit it.</p></li>
</ul>
<div class="callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>When working through these tutorials, always make sure you are in the course’s RStudio Quarto Project you created.</p>
<p>You know you are in an RStudio Project because you can see the name of the Project in the top-right corner of RStudio, next to the light blue cube icon.</p>
<p>If you see <code>Project (none)</code> in the top-right corner, that means your <strong>are not</strong> in an RStudio Project.</p>
<p><strong>To make sure you are in the RStudio project, to open the project go to the project folder in File Explorer or Finder and double click on the <code>.Rproj</code> file.</strong></p>
</div>
</div>
<p>There are several ways of opening an RStudio Project:</p>
<ul>
<li><p>You can go to the RStudio Project folder in Finder or File Explorer and double click on the <code>.Rproj</code> file.</p></li>
<li><p>You can click on <code>File &gt; Open Project</code> in the RStudio menu.</p></li>
<li><p>You can click on the project name in the top-right corner of RStudio, which will bring up a list of projects. Click on the desired project to open it.</p></li>
</ul>
</section>
<section id="a-few-important-settings" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="a-few-important-settings"><span class="header-section-number">2.2</span> A few important settings</h3>
<p>Before moving on, there are a few important <strong>settings that you need to change.</strong> See figure below for how they should look.</p>
<p><img src="../img/rstudio-6.png" class="img-fluid"></p>
<ol type="1">
<li><p>Open the RStudio preferences (<code>Tools &gt; Global options...</code>, might be different on Windows).</p></li>
<li><p><strong>Un-tick</strong> <code>Restore .RData into workspace at startup</code>.</p>
<ul>
<li>This mean that every time you start RStudio you are working with a clean Environment. Not restoring the workspace ensures that the code you write is fully reproducible.</li>
</ul></li>
<li><p>Select <code>Never</code> in <code>Save workspace to .RData on exit</code>.</p>
<ul>
<li>Since we are not restoring the workspace at start-up, we don’t need to save it. Remember that as long as you save the code, you will not lose any of your work! You will learn how to save code below.</li>
</ul></li>
<li><p>Click <code>OK</code> to confirm the changes.</p></li>
</ol>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quiz 1
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>True or false?</strong></p>
<ol type="a">
<li><p>RStudio executes the code. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>R is a programming language. <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
<li><p>An IDE is necessary to run R. <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p>RStudio projects are folders with an <code>.Rproj</code> file. <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
<li><p>The project name is shown in the top-right corner of RStudio. <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
</ol>
</div>
</div>
</section>
</section>
<section id="running-code-in-the-console" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="running-code-in-the-console"><span class="header-section-number">3</span> Running code in the Console</h2>
<p>Now you can run R code in the Console from within RStudio.</p>
<p>Try the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>apples <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>oranges <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>durians <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>fruit_n <span class="ot">&lt;-</span> <span class="fu">sum</span>(apples, oranges, durians)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"We have in total"</span>, fruit_n, <span class="st">"fruits."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>We have in total 18 fruits.</code></pre>
</div>
</div>
<p>The sentence <code>We have in total 18 fruits.</code> will be printed on the Console.</p>
<p>Moreover, you will see that the variables we created (<code>apples</code>, <code>oranges</code>, <code>durians</code>, <code>fruit_n</code>) are listed in the <strong>Environment</strong> tab in the top-right panel of RStudio.</p>
<p>This is much better than having to use <code>ls()</code> to remember which variables you have created.</p>
<p>Now create three more variables:</p>
<ul>
<li><p>They should all be vectors of at least three elements.</p></li>
<li><p>You should create one numeric, one character and one logical vector.</p></li>
</ul>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>To create vectors, you should use the <code>c()</code> function.</p>
</div>
</div>
</div>
<p>Now check the Environment tab: your new variables will be there. The values of each variable should be prefixed with:</p>
<ul>
<li><p>The vector type: <code>num</code> for numeric, <code>chr</code> for character and <code>logi</code> for logical.</p></li>
<li><p>And the length of the vector in the form <code>[1:N]</code> where <code>N</code> is the number of element/values in the vector.</p></li>
</ul>
<p>That’s neat! You can obtain the length of a vector (i.e.&nbsp;the number of element/values) with the <code>length()</code> function.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Length of a vector
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <strong>length</strong> of a vector is the number of values contained in the vector.</p>
<p>You can obtain the vector length with <code>length()</code>.</p>
</div>
</div>
<p>For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>words <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"gold"</span>, <span class="st">"nice"</span>, <span class="st">"up"</span>, <span class="st">"of"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(words)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p>Remember you can always check the type of vector with the <code>class()</code> function.</p>
</section>
<section id="r-scripts" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="r-scripts"><span class="header-section-number">4</span> R scripts</h2>
<p>So far, you’ve been asked to write code in the <strong>Console</strong> and run it there.</p>
<p>But this is not very efficient. Every time, you need to write the code and execute it in the right order and it quickly becomes very difficult to keep track of everything when things start getting more involved.</p>
<p>A solution is to use <strong>R scripts</strong>.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
R script
</div>
</div>
<div class="callout-body-container callout-body">
<p>An <strong>R script</strong> is a file with the <code>.R</code> extension that contains R code.</p>
</div>
</div>
<p><strong>For the rest of this tutorial, you will write all code in an R script.</strong></p>
<section id="create-an-r-script" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="create-an-r-script"><span class="header-section-number">4.1</span> Create an R script</h3>
<p>First, create a folder called <code>code</code> in your project folder. You can do so from within RStudio, in the Files tab or you can just create the folder in the File Explorer/Finder. This will be the folder where you will save all of your R scripts and other code files.</p>
<p>Now, to create a new R script, look at the top-left corner of RStudio: the first button to the left looks like a white sheet with a green plus sign. This is the <code>New file</code> button. Click on that and you will see a few options to create a new file.</p>
<p>Click on <code>R Script</code>. A new empty R script will be created and will open in the File Editor window of RStudio.</p>
<p><img src="../img/new-script-button.png" class="img-fluid"></p>
<div class="callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that creating an R script does not automatically saves it on your computer. To do so, either use the keyboard short-cut <code>CMD+S</code>/<code>CTRL+S</code> or click on the floppy disk icon in the menu below the file tab.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../img/save-button.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="500"></p>
</figure>
</div>
<p>Save the file inside the <code>code/</code> folder with the following name: <code>tutorial-w02.R</code>.</p>
<div class="callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Remember that all the files of your RStudio project don’t live inside RStudio but on your computer.</p>
<p>So you can always access them from the Finder or File Explorer! <strong>However</strong>, do not open a file by double clicking on it from the Finder/File Explorer.</p>
<p>Rather, <strong>open the RStudio project by double clicking on the <code>.Rproj</code> file</strong> and then open files from RStudio to ensure you are working within the RStudio project and the working directory is set correctly.</p>
</div>
</div>
<p>Now your script is ready to be filled with code. Copy the following lines of code and paste them at the top of your R script (this is the same code as above).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>apples <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>oranges <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>durians <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>fruit_n <span class="ot">&lt;-</span> <span class="fu">sum</span>(apples, oranges, durians)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"We have in total"</span>, fruit_n, <span class="st">"fruits."</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>words <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"gold"</span>, <span class="st">"nice"</span>, <span class="st">"up"</span>, <span class="st">"of"</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(words)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="run-code" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="run-code"><span class="header-section-number">4.2</span> Run code</h3>
<p>Now, there are several ways to run code.</p>
<p>One is to click on the <code>Run</code> button. You can find this in the top-right corner of the script window.</p>
<p><img src="../img/run-button.png" class="img-fluid"></p>
<p>When you click <code>Run</code>, R runs the line of code that currently has the text cursor (<code>|</code>) and then moves the cursor to the next line (you can click <code>Run</code> again to run the line and so on.) You can also select multiple lines on the script and click <code>Run</code>, and all the selected lines will be run.</p>
<p>An alternative way is to place the text cursor on the line of code you want to run and then press <code>CMD+ENTER</code>/<code>CTRL+ENTER</code>. This will run the line of code and move the text cursor to the next line of code, as if you had clicked <code>Run</code>.</p>
<p>You can even select multiple lines of code (as you would select text) and press <code>CMD+ENTER</code>/<code>CTRL+ENTER</code> to run multiple lines of code!</p>
<p>Now that you know how to use R scripts and run code in them, I will assume that you will keep writing new code from this tutorial in your script and run it from there!</p>
<p>In the next section, you will learn how to extend R capabilities with packages.</p>
</section>
</section>
<section id="r-packages" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="r-packages"><span class="header-section-number">5</span> R packages</h2>
<p>When you install R, a <strong>library</strong> of packages is also installed. <strong>Packages</strong> provide R with extra functionalities, usually by making extra functions available for use. You can think of packages as “plug-ins” that you install once and then you can “activate” them when you need them. The library installed with R contains a set of packages that are collectively known as the <strong>base R packages</strong>, but you can install more any time!</p>
<p>Note that the R library is a folder on your computer. Packages are <em>not</em> installed inside RStudio. Remember that RStudio is just an interface.</p>
<p>You can check all of the currently installed packages in the bottom-right panel of RStudio, in the <strong>Packages</strong> tab. There you can also install new packages.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
R library and packages
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>The <strong>R library</strong> contains the base R packages and all the user-installed packages.</p></li>
<li><p><strong>R packages</strong> provide R with extra functionalities and are installed into the R library.</p></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Extra: Where is my R library?
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you want to find the path of the R library on your computer, type <code>.libPaths()</code> in the Console. The function returns (i.e.&nbsp;outputs) the path or paths where your R library is.</p>
</div>
</div>
<section id="install-packages" class="level4" data-number="5.0.1">
<h4 data-number="5.0.1" class="anchored" data-anchor-id="install-packages"><span class="header-section-number">5.0.1</span> Install packages</h4>
<p>You can install extra packages in the R library in two ways:</p>
<ol type="1">
<li>You can use the <code>install.packages()</code> function. This function takes the name of the package you want to install as a string, for example <code>install.packages("cowsay")</code>.</li>
</ol>
<div class="callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you install a package with the function <code>install.packages()</code>, do so in the Console! Do not include this function in your scripts (this is because you install packages only once, see below)).</p>
</div>
</div>
<ol start="2" type="1">
<li>Or you can go the <code>Packages</code> tab in the bottom-right panel of RStudio and click on <code>Install</code>. A small window will pop up. See the screenshot below.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../img/install-packages.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="350"></p>
</figure>
</div>
<p>Go ahead and try to install a package using the second method. Install the <strong>cowsay</strong> and the <strong>fortunes</strong> packages (see picture above for how to write the packages). After installing you will see that the package fortunes is listed in the Packages tab.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Install packages
</div>
</div>
<div class="callout-body-container callout-body">
<p>To <strong>install packages</strong>, go to the Packages tab of the bottom-right panel of RStudio and click on <code>Install</code>.</p>
<p>In the “Install packages” window, list the package names and then click <code>Install</code>.</p>
</div>
</div>
<div class="callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>You need to install a package ONLY ONCE!</strong> Once installed, it’s there for ever, saved in the R library. You will be able to use all of your installed packages in any RStudio project you create.</p>
</div>
</div>
</section>
<section id="attach-packages" class="level4" data-number="5.0.2">
<h4 data-number="5.0.2" class="anchored" data-anchor-id="attach-packages"><span class="header-section-number">5.0.2</span> Attach packages</h4>
<p>Now, to use a package you need to <strong>attach</strong> the package to the current R session with the <code>library()</code> function. Attaching a package makes the functions that come with the package available to us.</p>
<div class="callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>You need to attach the packages you want to use once per R session.</strong></p>
<p>Note that every time you open RStudio, a new R session is started.</p>
</div>
</div>
<p>Let’s attach the cowsay and fortunes packages. Write the following code at the top of your R script, before all the other code you wrote.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowsay)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fortunes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that <code>library(cowsay)</code> takes the name of the package without quotes, although if you put the name in quotes it also works. You need one <code>library()</code> function per package (there are other ways, but we will stick with this one).</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Attaching packages
</div>
</div>
<div class="callout-body-container callout-body">
<p>Packages are <strong>attached</strong> with the <code>library(pkg.name)</code> function, where <code>pkg.name</code> is the name of the package.</p>
<p>It is customary to put all the packages used in the script <strong>at the top of the script.</strong></p>
</div>
</div>
<p>Now you can use the functions provided by the attached packages. Try out the <code>say()</code> function from the cowsay package.</p>
<p>Write the following in your R script and run it!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">say</span>(<span class="st">"hot diggity"</span>, <span class="st">"frog"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(I know, the usefulness of the package might be questionable, but it is fun!)</p>
<div class="callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Remember, you need to install a package only once but you need to attach it with <code>library()</code> every time you start R.</p>
<p>Think of <code>install.packages()</code> as mounting a light bulb (installing the package) and <code>library()</code> as the light switch (attaching the package).</p>
<p><img src="../img/install-vs-attach.jpeg" class="img-fluid"></p>
</div>
</div>
</section>
<section id="package-documentation" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="package-documentation"><span class="header-section-number">5.1</span> Package documentation</h3>
<p>To learn what a function does, you can check its documentation by typing in the Console the function name preceded by a <code>?</code> question mark. Type <code>?say</code> in the Console and hit <code>ENTER</code> to see the function documentation. You should see something like this:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../img/say-doc.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>The <code>Description</code> section is usually a brief explanation of what the function does.</p>
<p>In the <code>Usage</code> section, the usage of the function is shown by showing which arguments the function has and which default values (if any) each argument has. When the argument does not have a default value, <code>NULL</code> is listed as the value.</p>
<p>The <code>Arguments</code> section gives a thorough explanation of each function argument. (Ignore <code>…</code> for now).</p>
<p>How many arguments does <code>say()</code> have? How many arguments have a default value?</p>
<p>Default argument values allow you to use the function without specifying those arguments. Just write <code>say()</code> in your script on a new line and run it. Does the output make sense based on the <code>Usage</code> section of the documentation?</p>
<p>The rest of the function documentation usually has further details, which are followed by <code>Examples</code>. It is always a good idea to look at the example and test them in the Console when learning new functions.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quiz 2
</div>
</div>
<div class="callout-body-container callout-body">
Which of the following statements is wrong?
<div id="radio_NLLZLHKPAP" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NLLZLHKPAP" value="answer"> <span>You attach libraries with <code>library()</code>.</span></label><label><input type="radio" autocomplete="off" name="radio_NLLZLHKPAP" value=""> <span><code>install.packages()</code> does not load packages.</span></label><label><input type="radio" autocomplete="off" name="radio_NLLZLHKPAP" value=""> <span>The R library is a folder.</span></label>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Explanation
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This was a question about terminology. In R, you attach packages from the library using (confusingly) the <code>library()</code> function.</p>
</div>
</div>
</div>
</section>
</section>
<section id="including-comments" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="including-comments"><span class="header-section-number">6</span> Including comments</h2>
<p>Sometimes we might want to add a few lines of text in our script, for example to take notes.</p>
<p>You can add so-called <strong>comments</strong> in R scripts, simply by starting a line with <code>#</code>. If you add <code>#</code> at the <em>end</em> of a line, anything after that will be considered a comment. Comments are simply skipped when R runs code.</p>
<div class="callout callout-style-default callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Comments
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can add text <strong>comments</strong> in R scripts by starting a new line with <code>#</code> or by writing text preceded by <code>#</code> at the end of any line of code.</p>
</div>
</div>
<p>For example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is a comment. Let's add 6 + 3.</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="sc">+</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">+</span> <span class="dv">6</span> <span class="co"># is the same as 6 + 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can write long comments like this, for example if you want to explain what</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># the code does or if you want remind yourself of something. It is usual practice</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># to start new lines when comments are very long, each line preceded by #. We</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># call these "comment blocks"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quiz 4
</div>
</div>
<div class="callout-body-container callout-body">
<p>Is the following a valid and complete line of R code? <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">3</span>, <span class="dv">2</span> <span class="co">#)  4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="summary" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="summary"><span class="header-section-number">7</span> Summary</h2>
<p>You made it! You completed this week’s tutorial.</p>
<p>Here’s a summary of what you learnt.</p>
<div class="callout callout-style-simple callout-note no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<ul>
<li><p>R is a programming language while RStudio is an IDE.</p></li>
<li><p><strong>Quarto projects</strong> are folders with an <code>.Rproj</code> file (you can see the name of the project you are currently in in the top-right corner of RStudio).</p></li>
<li><p><strong>R scripts</strong> contain R code and help you keep track of the code you run.</p></li>
<li><p><strong>R packages</strong> provide R with extra functionalities. The <strong>R library</strong> is a folder with all the installed packages.</p></li>
<li><p><code>.libPaths()</code> returns the path(s) to the R library.</p></li>
<li><p><code>library()</code> attaches R packages (i.e.&nbsp;makes the package’s functions available for use).</p></li>
<li><p>You can inspect the documentation of any function by running <code>?function</code> in the Console (where <code>function</code> is the function’s name, e.g.&nbsp;<code>?paste</code>).</p></li>
<li><p>You can write text <strong>comments</strong> in R scripts by starting a line with <code>#</code>.</p></li>
</ul>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
  PagedTableDoc.initAll();
}

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>